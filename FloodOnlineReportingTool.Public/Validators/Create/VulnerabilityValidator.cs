using FloodOnlineReportingTool.DataAccess.Models;
using FloodOnlineReportingTool.Public.Models.FloodReport.Create;
using FluentValidation;

namespace FloodOnlineReportingTool.Public.Validators.Create;

public class VulnerabilityValidator : AbstractValidator<Vulnerability>
{
    public VulnerabilityValidator()
    {
        RuleFor(o => o.VulnerablePeopleId)
            .Empty()
            .WithMessage("Select if vulnerable people were affected");

        RuleFor(o => o.VulnerableTotal)
            .NotEmpty()
            .WithMessage("Enter the number of vulnerable people")
            .InclusiveBetween(1, 25)
            .WithMessage("The number of vulnerable people must be between {From} and {To}")
            .When(o => o.VulnerablePeopleId == RecordStatusIds.Yes);
    }
}
